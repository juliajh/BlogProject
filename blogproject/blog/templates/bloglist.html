{%extends 'base.html' %}
{%block content%}

<!DOCTYPE html>

<head>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-wEmeIV1mKuiNpC+IOBjI7aAzPcEZeedi5yW5f2yOq55WWLwNGmvvx4Um1vskeMj0" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-p34f1UUtsS3wqzfto5wAAmdvj+osOnFyQFpp4Ua3gs/ZVWx6oOypYoCJhGGScy+8" crossorigin="anonymous"></script>

  <style>
    body{
      justify-content: center;
    }
    #cardimage
    {
      margin-top:10px;
      margin-left: auto;
      margin-right: auto;
    }
    .card-body{
      margin-left:30px;
      float:left;
      text-align: left;
    }
  </style>

</head>

<body>
  <br><br><br>
  
  <div class="row row-cols-1 row-cols-md-4 g-4" id="main-container">
    {%for blog in blogs.all %}
    <a href="{% url 'detail' blog.id %}" style="text-decoration-line : none; color:black">
      <div class="col">
        <div class="card h-100" id="card">
          <img src="{{blog.image.url}}" id="cardimage" class="card-img-top" style="width:220px; height:170px;"alt="...">
          <div class="card-body">
            <h5>{{blog.title}}</h5>
            <small>{{blog.summary}}</small>
          </div>
          <div class="card-footer">
            <small class="text-muted">
              <strong>{{blog.writer}}</strong>
              {{blog.pub_date}}
            </small>
          </div>
        </div>
      </div>
    </a>
    {% endfor %}
  </div>

  {%if user.is_authenticated %}
  <a href="{%url 'new' %}" class="btn btn-light" >글쓰기</a>
  {%else%}
  <div class="alert alert-secondary" role="alert">
    글을 쓰려면 로그인 해주세요!
  </div>
  {%endif%}
</body>

{%endblock%}

</html>
